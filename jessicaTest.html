 <!DOCTYPE html>

<html>
<head>
    <title>What Happened Last Night...?</title>

    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />


    <script src="util/jquery_min.js" type="text/javascript"></script>
    <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>

    <script src="javascript/timeline.js" type="text/javascript"></script>
    <script src="javascript/event.js" type="text/javascript"></script>
    <script src="javascript/item.js" type="text/javascript"></script>
    <script src="javascript/user.js" type="text/javascript"></script>



    <link href="css/jessicaTest.css" rel="stylesheet" type="text/css">
</head>


<body>
    <div id="appWrap">
        <h1>Test Timeline</h1>
        <p>50px left for header. Change in css</p>

        <div id="timelineWrap">
            <div id="timelineContent"></div>
            <div id="timelineNav">
                <div id="timelineImgWrapper">
                    <div id="timelineImg"></div>
                </div>
                <div id="slider"></div>
            </div>
        </div>
    </div>


    <script type="text/javascript">
        window.onload = function(){
            $("#timelineImg").css("width", "2000px");
            initializeDraggableTimelineToMiddle();
        }

        function initializeDraggableTimelineToMiddle() {
            var parentPos = $("#timelineNav").offset();
            var childPos = $("#timelineImg").offset();

            var img = $("#timelineImg").draggable({ containment: '#timelineImgWrapper'}),
                h = img.height(),
                w = img.width(),
                outer = $('#timelineNav'),
                oH = outer.height(),
                oW = outer.width(),
                iH = h + (h - oH),
                iW = w + (w - oW),
                iT = '-' + ((iH - oH)/2) + 'px',
                iL = '-' + ((iW - oW)/2) + 'px';

            $('#timelineImgWrapper').css({ width: iW, height: iH, top: iT, left: iL });



            //TODO: FOR EventsTimeline: Current date
            //      FOR ItemsTimeline: Go to beginning
            var ratio = .5;
            var leftPosToMakeMiddle = Math.round(w - oW - (ratio * w) + oW/2);
            $("#timelineImg").css({left: leftPosToMakeMiddle + 'px'});
        }
    </script>

</body>
</html>